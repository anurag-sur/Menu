<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Simple 3D Test</title>
  <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
  <style>
    body { margin:0; font-family:Arial; }
    #info {
      position:absolute;
      top:20px;
      left:50%;
      transform:translateX(-50%);
      background:rgba(0,0,0,0.8);
      color:white;
      padding:12px 20px;
      border-radius:12px;
      z-index:999;
      text-align:center;
    }
    .btn {
      position:absolute;
      bottom:20px;
      padding:12px 20px;
      background:rgba(0,0,0,0.85);
      color:white;
      border:none;
      border-radius:10px;
      font-size:16px;
      z-index:999;
      cursor:pointer;
    }
    #prev { left:20px; }
    #next { right:20px; }
  </style>
</head>
<body>

<div id="info">Loading Duck...</div>
<button id="prev" class="btn">◀ Previous</button>
<button id="next" class="btn">Next ▶</button>

<!-- Simple A-Frame scene without AR -->
<a-scene background="color: #87CEEB">
  <!-- Lighting -->
  <a-entity light="type: ambient; intensity: 0.8"></a-entity>
  <a-entity light="type: directional; intensity: 0.5" position="2 4 2"></a-entity>
  
  <!-- Camera -->
  <a-entity camera position="0 1.6 3" look-controls></a-entity>
  
  <!-- Ground plane for reference -->
  <a-plane position="0 0 0" rotation="-90 0 0" width="10" height="10" color="#7BC8A4"></a-plane>
  
  <!-- Model holder -->
  <a-entity id="model-holder" position="0 1 0"></a-entity>
</a-scene>

<script>
// Wait for A-Frame to load
window.addEventListener('load', function() {

const models = [
  { 
    url: "https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Duck/glTF-Binary/Duck.glb",
    name: "Duck",
    scale: "0.1 0.1 0.1"
  },
  { 
    url: "https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/Avocado/glTF-Binary/Avocado.glb",
    name: "Avocado",
    scale: "50 50 50"
  },
  { 
    url: "https://raw.githubusercontent.com/KhronosGroup/glTF-Sample-Models/master/2.0/BoomBox/glTF-Binary/BoomBox.glb",
    name: "BoomBox",
    scale: "100 100 100"
  },
  { 
    url: "models/burger.glb",
    name: "Burger",
    scale: "0.4 0.4 0.4"
  },
  { 
    url: "models/pizza.glb",
    name: "Pizza",
    scale: "2 2 2"
  },
  { 
    url: "models/fries.glb",
    name: "Fries",
    scale: "0.5 0.5 0.5"
  }
];

let currentIndex = 0;
const holder = document.getElementById('model-holder');
const info = document.getElementById('info');

// Create model entity
const modelEntity = document.createElement('a-entity');
modelEntity.setAttribute('rotation', '0 0 0');
holder.appendChild(modelEntity);

// Auto-rotate component
AFRAME.registerComponent('auto-spin', {
  tick: function (time) {
    this.el.setAttribute('rotation', {
      x: 0,
      y: time * 0.05,
      z: 0
    });
  }
});

modelEntity.setAttribute('auto-spin', '');

function loadModel(index) {
  const model = models[index];
  info.textContent = `${model.name} (${index + 1}/${models.length})`;
  
  console.log(`Loading: ${model.url}`);
  
  modelEntity.setAttribute('gltf-model', model.url);
  modelEntity.setAttribute('scale', model.scale);
}

// Event listeners
modelEntity.addEventListener('model-loaded', () => {
  console.log('✓ Model loaded successfully!');
  info.style.background = 'rgba(0,150,0,0.8)';
  setTimeout(() => {
    info.style.background = 'rgba(0,0,0,0.8)';
  }, 2000);
});

modelEntity.addEventListener('model-error', (e) => {
  console.error('✗ Model load error:', e.detail);
  info.textContent = `Error loading ${models[currentIndex].name}`;
  info.style.background = 'rgba(150,0,0,0.8)';
});

// Navigation
document.getElementById('prev').onclick = () => {
  currentIndex = (currentIndex - 1 + models.length) % models.length;
  loadModel(currentIndex);
};

document.getElementById('next').onclick = () => {
  currentIndex = (currentIndex + 1) % models.length;
  loadModel(currentIndex);
};

// Load first model
loadModel(0);

}); // End of window.addEventListener('load')
</script>

</body>
</html>
